# oaDeviceAPI Configuration
# Generated by Ansible for {{ inventory_hostname }}

# API Configuration
OAAPI_HOST=0.0.0.0
OAAPI_PORT=9090

# Security Configuration  
TAILSCALE_SUBNET={{ tailscale_subnet | default('100.64.0.0/10') }}

# Logging Configuration
LOG_LEVEL={{ device_api_log_level | default('INFO') }}

# Platform Detection Override (optional)
{% if device_api_platform_override is defined %}
PLATFORM_OVERRIDE={{ device_api_platform_override }}
{% endif %}

# Platform-specific Configuration
{% if platform_state.is_macos %}
# macOS Configuration
MACOS_BIN_DIR={{ device_api_path }}/bin/macos
SERVICE_TIMEOUT={{ device_api_service_timeout | default(30) }}
{% endif %}

{% if platform_state.is_ubuntu %}
# Linux/OrangePi Configuration
SCREENSHOT_DIR={{ device_api_screenshot_dir | default('/tmp/screenshots') }}
ORANGEPI_DISPLAY_CONFIG={{ device_api_display_config | default('/etc/orangead/display.conf') }}
ORANGEPI_PLAYER_SERVICE={{ device_api_player_service | default('slideshow-player.service') }}
{% endif %}