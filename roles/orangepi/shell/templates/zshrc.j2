# OrangePi Enhanced Zsh Configuration
# Generated by Ansible - {{ ansible_date_time.iso8601 }}

# Path to your oh-my-zsh installation
export ZSH="$HOME/.oh-my-zsh"

# Set name of the theme to load
ZSH_THEME="{{ oh_my_zsh_theme }}"

# Plugins to load
plugins=({{ oh_my_zsh_plugins | join(' ') }})

source $ZSH/oh-my-zsh.sh

# OrangePi-specific aliases
{% for alias_item in orangepi_aliases %}
alias {{ alias_item.alias }}="{{ alias_item.command }}"
{% endfor %}

# Enhanced PATH for OrangePi utilities
export PATH="$PATH:{{ orangepi_project_root }}/util-scripts"

# OrangePi device information
export DEVICE_ID="{{ device_id }}"
export DEVICE_SERIES="{{ device_series }}"
export DEVICE_LOCATION="{{ device_location }}"

{% if show_device_info %}
# Custom prompt with device information
PROMPT='%{$fg[cyan]%}[{{ device_id }}]%{$reset_color%} '$PROMPT
{% endif %}

# Enhanced history
HISTSIZE=10000
SAVEHIST=10000
setopt HIST_VERIFY
setopt SHARE_HISTORY
setopt APPEND_HISTORY
setopt INC_APPEND_HISTORY
setopt HIST_IGNORE_DUPS
setopt HIST_IGNORE_ALL_DUPS
setopt HIST_REDUCE_BLANKS
setopt HIST_IGNORE_SPACE

# Auto-completion enhancements
autoload -U compinit && compinit
zstyle ':completion:*' menu select
zstyle ':completion:*' matcher-list 'm:{a-zA-Z}={A-Za-z}'

# Load OrangePi custom functions
[ -f ~/.oh-my-zsh/custom/orangepi_functions.zsh ] && source ~/.oh-my-zsh/custom/orangepi_functions.zsh

# Welcome message
echo "[ORANGE] OrangePi {{ device_id }} shell ready! Use 'oastatus' to check services."